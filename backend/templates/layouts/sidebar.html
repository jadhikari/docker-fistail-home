{% load static %}
<div id="sidebar" class="sidebar">
    <!-- Toggle Below Header -->
    <div class="text-center p-2 border-bottom">
        <button class="btn btn-sm btn-outline-secondary" id="sidebarToggle" title="Toggle Menu">☰</button>
    </div>

    <ul class="nav nav-pills flex-column text-center">
        <li class="nav-item">
            <a href="{% url 'hostel:dashboard' %}" class="nav-link {% if request.resolver_match.app_name == 'hostel' %}active{% endif %}">
                🏠 <span class="link-text">Hostel</span>
            </a>
        </li>
        <li class="nav-item">
            <a href="{% url 'customer:dashboard' %}" class="nav-link {% if request.resolver_match.app_name == 'customer' %}active{% endif %}">
                👥 <span class="link-text">Customer</span>
            </a>
        </li>
        
        <li class="nav-item">
            <a href="{% url 'finance:revenues' %}" class="nav-link {% if request.resolver_match.url_name == 'revenues' %}active{% endif %}">
                💵 <span class="link-text">Revenues</span>
            </a>
        </li>
        {% if perms.finance.view_hostelexpense %}
            <li class="nav-item">
                <a href="{% url 'finance:expenses' %}" class="nav-link {% if request.resolver_match.url_name == 'expenses' %}active{% endif %}">
                    🧾 <span class="link-text">Expenses</span>
                </a>
            </li>
        {% endif %}

        <li class="nav-item">
            <a href="{% url 'finance:notification' %}" class="nav-link {% if request.resolver_match.url_name == 'notification' %}active{% endif %}">
                🔔 <span class="link-text">Notification</span>
            </a>
        </li>

        {% if user.is_superuser or perms.keisan.view_business and perms.keisan.add_business and perms.keisan.change_business and perms.keisan.delete_business and perms.keisan.view_municipalshop and perms.keisan.add_municipalshop and perms.keisan.change_municipalshop and perms.keisan.delete_municipalshop and perms.keisan.view_staff and perms.keisan.add_staff and perms.keisan.change_staff and perms.keisan.delete_staff and perms.keisan.view_dependent and perms.keisan.add_dependent and perms.keisan.change_dependent and perms.keisan.delete_dependent and perms.keisan.view_title and perms.keisan.add_title and perms.keisan.change_title and perms.keisan.delete_title and perms.keisan.view_transaction and perms.keisan.add_transaction and perms.keisan.change_transaction and perms.keisan.delete_transaction %}
            <li class="nav-item">
                <a href="{% url 'keisan:dashboard' %}" class="nav-link {% if request.resolver_match.app_name == 'keisan' and request.resolver_match.url_name != 'transaction_details' %}active{% endif %}">
                    🏢 <span class="link-text">Keisan</span>
                </a>
            </li>

            <li class="nav-item">
                <a href="{% url 'keisan:transaction_details' %}" class="nav-link {% if request.resolver_match.url_name == 'transaction_details' %}active{% endif %}">
                    📊 <span class="link-text">Transaction</span>
                </a>
            </li>
        {% endif %}

        <li class="nav-item">
            <a href="{% url 'targets:contracts' %}" class="nav-link {% if request.resolver_match.app_name == 'targets' and request.resolver_match.url_name == 'contracts' %}active{% endif %}">
                📋 <span class="link-text">Contract</span>
            </a>
        </li>

        {% if user.is_superuser %}
            <li class="nav-item">
                <a href="{% url 'targets:management' %}" class="nav-link {% if request.resolver_match.app_name == 'targets' and request.resolver_match.url_name == 'management' %}active{% endif %}">
                    ⚙️ <span class="link-text">Settings</span>
                </a>
            </li>
        {% endif %}
    </ul>
</div>

